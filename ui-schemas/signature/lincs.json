{
  "match": {
    "${$validator}": "/@dcic/signature-commons-schema/core/signature.json",
    "${library.dataset}": "lincs_clue"
  },
  "properties": {
    "Image": {
      "visibility": 1,
      "type": "img",
      "src": "${PREFIX}/static/images/clueio.ico",
      "alt": "ConnectivityMap"
    },
    "Assay": {
      "visibility": 1,
      "type": "text",
      "text": "L1000"
    },
    "Cell-line": {
      "visibility": 1,
      "type": "text",
      "text": "${meta.Cell_Line[0].Name}"
    },
    "Time point": {
      "visibility": 1,
      "type": "text",
      "text": "${meta.pert_time} ${meta.pert_time_unit}"
    },
    "Perturbation": {
      "visibility": 1,
      "type": "text",
      "text": "${meta.pert_desc === '-666' ? meta.pert_id : meta.pert_desc}"
    },
    "Concentration": {
      "visibility": 1,
      "condition": {
        "${meta.pert_dose}": {
          "ne": "-666"
        }
      },
      "type": "text",
      "text": "${meta.pert_dose} ${meta.pert_dose_unit}"
    },
    "P-Value": {
      "visibility": 1,
      "condition": {
        "${meta['p-value']}": {
          "ne": null
        }
      },
      "columnType": "number",
      "columnOptions": {
        "sort": true,
        "sortDirection": "asc"
      },
      "type": "text",
      "text": "${meta['p-value']}"
    },
    "Odds Ratio": {
      "visibility": 1,
      "condition": {
        "${meta.oddsratio}": {
          "ne": null
        }
      },
      "columnType": "number",
      "type": "text",
      "text": "${meta.oddsratio}"
    },
    "Set Size": {
      "visibility": 1,
      "condition": {
        "${meta.setsize}": {
          "ne": null
        }
      },
      "columnType": "number",
      "type": "text",
      "text": "${meta.setsize}"
    },
    "P-Up": {
      "visibility": 1,
      "condition": {
        "${meta['p-up']}": {
          "ne": null
        }
      },
      "columnType": "number",
      "type": "text",
      "text": "${meta['p-up']}"
    },
    "P-Down": {
      "visibility": 1,
      "condition": {
        "${meta['p-down']}": {
          "ne": null
        }
      },
      "columnType": "number",
      "type": "text",
      "text": "${meta['p-down']}"
    },
    "Z-Up": {
      "visibility": 1,
      "condition": {
        "${meta['z-up']}": {
          "ne": null
        }
      },
      "columnType": "number",
      "type": "text",
      "text": "${meta['z-up']}"
    },
    "Z-Down": {
      "visibility": 1,
      "condition": {
        "${meta['z-down']}": {
          "ne": null
        }
      },
      "columnType": "number",
      "type": "text",
      "text": "${meta['z-down']}"
    },
    "Log(p) Fisher": {
      "visibility": 1,
      "condition": {
        "${meta['logp-fisher']}": {
          "ne": null
        }
      },
      "columnType": "number",
      "columnOptions": {
        "sort": true,
        "sortDirection": "desc"
      },
      "type": "text",
      "text": "${meta['logp-fisher']}"
    },
    "Log(p) Average":{
      "visibility": 1,
      "condition": {
        "${meta['logp-avg']}": {
          "ne": null
        }
      },
      "columnType": "number",
      "type": "text",
      "text": "${meta['logp-avg']}"
    },
    "Direction": {
      "visibility": 1,
      "condition": {
        "${meta['logp-fisher']}": {
          "ne": null
        }
      },
      "type": "text",
      "text": "${meta['direction'] === 1 ? 'up' : 'down'}"
    }
  }
}